<hr>

:warning: **The maintenance and support of this project has been moved to a [new repository](https://github.com/Spellhold-Studios/Luxley-Family).**

<hr><br>

![Latest Release](https://img.shields.io/github/v/release/SpellholdStudios/The_Luxley_Family?include_prereleases&color=darkred)<a name="top" id="top"> </a>
![GitHub (Pre-)Release Date](https://img.shields.io/github/release-date-pre/SpellholdStudios/The_Luxley_Family?color=gold)
![Platform](https://img.shields.io/static/v1?label=platform&message=windows%20%7C%20macOS%20%7C%20linux%20%7C%20Project%20Infinity&color=informational)
![Language](https://img.shields.io/static/v1?label=language&message=English&color=limegreen)

![Supported games](https://img.shields.io/static/v1?label=supported%20games&message=BGII%20%7C%20BGT%20%7C%20BG2%3AEE%20%7C%20EET&color=dodgerblue)


<div align="center"><h1></a>The Luxley Family</h1>

<h3>A Spellhold Studios mod for Baldur's Gate II: SoA and ToB (classical and EE games),<br>
Baldur's Gate Trilogy and EET<h3>

</div><br>

**Authors:** <a href="http://www.shsforums.net/user/5879-feuille/">Feuille</a> and <a href="http://www.shsforums.net/user/4278-miss-sakaki/">Miss Sakaki</a>  
**Mod Website:** <a href="http://spellholdstudios.net/ie/luxleys">Spellhold Studios</a>  
**Mod Forum:** <a href="http://www.shsforums.net/forum/324-luxley-family">The Luxley Family</a>

## 

[![Created Badge](https://badges.pufler.dev/created/SpellholdStudios/The_Luxley_Family?style=plastic)](https://badges.pufler.dev)
![GitHub repo size](https://img.shields.io/github/repo-size/SpellholdStudios/The_Luxley_Family?style=plastic)
[![Visits Badge](https://badges.pufler.dev/visits/SpellholdStudios/The_Luxley_Family?color=cyan&style=plastic)](https://badges.pufler.dev) 
![Maintenance](https://img.shields.io/static/v1?label=maintained%3F&message=yes&color=greenlight&style=plastic)
![GitHub contributors](https://img.shields.io/github/contributors/SpellholdStudios/The_Luxley_Family?color=blueviolet&style=plastic) [![Contributors Display](https://badges.pufler.dev/contributors/SpellholdStudios/The_Luxley_Family?size=30&padding=5&bots=true)](https://badges.pufler.dev)

## 

:page_facing_up: [Read the mod's readme](https://spellholdstudios.github.io/readmes/luxleysoa-readme-english.html)

:inbox_tray: [Download the mod at Spellhold Studios](http://www.shsforums.net/files/file/560-the-luxley-family/)<br>

## 

<div align="center">
<a href="#intro">Overview</a> &#8226; <a href="#compat">Compatibility</a> &#8226; <a href="#installation">Installation</a> &#8226; <a href="#details">Details</a> &#8226; <a href="#components">Components</a> &#8226; <a href="#credits">Credits and Acknowledgements</a> &#8226; <a href="#versions">Version History</a></br>
</div>

<hr>


## <a name="intro" id="intro"></a>Overview

The Luxley Family introduces two joinable NPCs, Sebastian and Andrei Luxley, to your game. Sebastian is a Chaotic Neutral playwright with a rather idiosyncratic sense of humour who appears to take great delight in showing his cousin Andrei the world outside their family home. Andrei is a polite, Lawful Neutral young monk with a strong sense of self who has led a rather sheltered life until now. Throughout your journey with them, you will discover that their family is not all that meets the eye. You may have to make some tough decisions - and the path you choose will have repercussions.

Though you do not need to start a new game to have them join your party, it is advisable to have them join early in order that their story arc is completed. Both banter with all the Bioware party NPCs and they comment on many of the quests in the game.

Sebastian and Andrei both have detailed talk tracks with the PC; they also banter with each other extensively throughout the game.

:warning: &#9755; Note that there is adult content in this mod, but all of it is voluntary on the part of the player - nothing that you feel uncomfortable with is forced on you. :wink:

&nbsp;

**Content:**
- A custom Playwright kit for Sebastian, giving him an additional spell per level but also combat penalties.
- A special ability for Andrei, giving him a damage bonus with a Thac0 penalty and wisdom drain.
- A brand-new area, as well as a set edited from the original game areas, along with new non-joinable NPCs.
- A three-stage quest with different paths for each segment.
- A track of up to 9 interactions between the protagonist and both characters.
- A talk track of up to 10 conversations between Sebastian and Andrei.
- Extensive player-initiated-dialogue for both characters which changes depending how much they like the protagonist.
- Custom portraits for Sebastian and Andrei, and optional portraits for various non-party NPCs.
- Extensive voicing, including voicing for eleven non-party NPCs.
- 2-4 banters with the Bioware NPCs in your party.
- Interjections about the player's conversations with non-party NPCs, and interactions with non-party NPCs.
- Tree of Life dialogue with different options depending on the paths you have chosen.
- String fixers (K) in the case of re-installations mixing up Andrei and Sebastian's name strings.
- Custom items, some of which are more useful than others.
<div align="right"><a href="#top">Back to top</a></div>

<hr>


## <a name="compat" id="compat"></a>Compatibility

#### Games supported

This mod is designed to work on the following Infinity Engine games: the original Baldur's Gate II (BG2 or just SoA) with or without the Throne of Bhaal (ToB) expansion, Baldur's Gate II: Enhanced Edition (BG2EE), the conversion projects <a href="http://www.shsforums.net/forum/261-bgt-weidu/">Baldur's Gate Trilogy (BGT)</a> and <a href="https://github.com/K4thos/EET/releases">Enhanced Edition Trilogy (EET)</a>.

&#9755; This version contains content only for Shadows of Amn only, so while Sebastian and Andrei will be functional in a Throne of Bhaal game, they will not speak to you.

## 

#### Other Mods Compatibility

The Luxley Family mod is a WeiDU mod, and therefore should be compatible with all WeiDU mods. However, we cannot test every single one. If you do encounter an error, please let us know by <a href="http://www.shsforums.net/forum/324-luxley-family">reporting it on the forum</a>.<br>

## 

#### Installation Order

>Although it is not required for The Luxley Family mod to function properly, classical game players are strongly recommended to download and install the latest version of the <a href="http://www.gibberlings3.net/bg2fixpack/">BG2 Fixpack</a> before proceeding with the installation of this mod.<br>

Here is the recommended installation order:
- Please install The Luxley Family after TobEx, BG2 Fixpack, Nathaniel and EET.
- Please install The Luxley Family before virtue, EET_End, and any final "biffing" routines.

<div align="right"><a href="#top">Back to top</a></div>

<hr>


## <a name="installation" id="installation"></a>Installation

#### Notes

*If you've previously installed the mod, remove it before extracting the new version. To do this, run __`setup-luxleysoa.exe`__, un-install the previously installed main component and delete the :file_folder: luxleysoa folder.*

*When installing or un-installing, __do not close the DOS window__ by clicking on the __X__ button! Instead, press the __Enter__ key whenever instructed to do so.*

*__Disable any antivirus__ or other memory-resident software before installing this or any other mod. Some (particularly avast and Norton!) have a tendency to report false positives with mod activity, resulting in failed installs.*

## 

#### Enhanced Editions Note

The Enhanced Editions are actively supported games. Please note that every patch update will wipe your current mod setup! If in the middle of a modded game you might want to delay the patch update (if possible) as even after reinstalling the mods, you might not be able to continue with your old savegames. Alternatively, copy the whole game's folder into a new one that can be modded and will stay untouched by game patches. It is important that you install the mod to the language version you are playing the game in. Otherwise, the dialogues of the mod will not show but give error messages.

## 

#### Windows

The Luxley Family for Windows is distributed as an extractable compressed archive and includes a WeiDU installer.

Extract the contents of the mod archive into the folder of the game you wish to modify (*the folder which contains the "CHITIN.KEY" file*), using <a href="http://www.7-zip.org/download.html">7zip</a>, <a href="http://www.rarlab.com/download.htm">WinRAR</a>, or another file compression utility that handles .zip files. On successful extraction, there should be a :file_folder: luxleysoa folder and a setup-luxleysoa.exe file in your game folder. To install, simply double-click **`setup-luxleysoa.exe`** and follow the instructions on screen.

Run **`setup-luxleysoa.exe`** in your game folder to reinstall, un-install or otherwise change the component settings.

## 

#### Mac OS

The Luxley Family for Mac OS is distributed in the same compressed archive and includes a WeiDU installer.

First, extract the files from the archive into your game directory. On successful extraction, there should be a :file_folder: luxleysoa folder, setup-luxleysoa and setup-luxleysoa.command files in your game folder. To install, simply double-click **`setup-luxleysoa.command`** and follow the instructions on screen.

Run **`setup-luxleysoa.command`** in your game folder to reinstall, un-install or otherwise change the components settings.

## 

#### Linux

The Luxley Family for Linux is distributed in the same compressed archive and does not include a WeiDU installer.

Extract the contents of the mod to the folder of the game you wish to modify.

Download the latest version of WeiDU for Linux from <a href="https://github.com/WeiDUorg/weidu/releases">WeiDU.org</a> and copy weidu and weinstall to `/usr/bin`. Following that, open a terminal, **cd** to your game installation directory, run tolower and answer 'Y' to both queries. You can avoid running the second option (linux.ini) if you've already ran it once in the same directory. To save time, the archive is already tolowered, so there's no need to run the first option (lowercasing file names) either if you've extracted only this mod since the last time you lowercased file names. If you're unsure, running tolower and choosing both options is the safe bet.

To install, run **`weinstall setup-luxleysoa`** in your game folder. Then run **`wine bgmain.exe`** (or **`wine baldur.exe`** for EE games) and start playing.

## 

#### Note for Complete Un-installation

In addition to the methods above for removing individual components, you can completely un-install the mod using **`setup-luxleysoa --uninstall`** at the command line to remove all components without wading through prompts.</br>
<div align="right"><a href="#top">Back to top</a></div>


<hr>


## <a name="details" id="details"></a>Details

Sebastian and Andrei can be found in the Bridge District of Athkatla.

#### PNJs characteristics

<table cellpadding=0 cellspacing=0 style="margin-top: 1%; margin-left: 80px">
	<tr style= "line-height: 170%;">
		<th>Portrait</th>
		<th>Strength</th>
		<th>Dexterity</th>
		<th>Constitution</th>
		<th>Intelligence</th>
		<th>Wisdom</th>
		<th>Charisma</th>
	</tr>
	<tr>
		<td><img src="luxleysoa/readme/images/fhsebm.png" title="Sebastian"></td>
		<td><div align="center">10</div></td>
		<td><div align="center">12</div></td>
		<td><div align="center">15</div></td>
		<td><div align="center">16</div></td>
		<td><div align="center">15</div></td>
		<td><div align="center">17</div></td>
	</tr>
	<tr>
		<td colspan="7">
		<strong>Biography:</strong><br>
		It is fair to say that whenever you question Sebastian about himself he is maddeningly elusive. He is a playwright by trade - or so he says, though he is secretive about his work and claims that a great deal of what he writes would go over your head. He has a keen sense of frivolity and seems to take little in life with any seriousness. Nevertheless, on occasion it appears that there is something else going on with him, and it would be unwise to underestimate his intelligence.</td>
	</tr>
	<tr>
		<td><img src="luxleysoa/readme/images/fhandrem.png" title="Andrei"></td>
		<td><div align="center">15</div></td>
		<td><div align="center">17</div></td>
		<td><div align="center">16</div></td>
		<td><div align="center">12</div></td>
		<td><div align="center">9</div></td>
		<td><div align="center">11</div></td>
	</tr>
		<td colspan="7">
		<strong>Biography:</strong><br>
		Andrei smiles when you ask him about himself. Though he is willing to talk about his relatives and is forthright about his beliefs, he is politely evasive on some subjects. He is skilled in hand-to-hand combat, a skill he developed at a young age, and was trained by an older member of his family. Despite his combat expertise, Andrei has only just left the family estate and seems a little naive about certain aspects of everyday life that you, perhaps, take for granted. Nevertheless, he comes across as quietly confident and it is rare to see him stray from a path he has chosen.</td>
	</tr>
</table>

## 

#### Player-initiated dialogues

You have the opportunity to initiate dialogue with Sebastian and Andrei if you click the *Talk* icon and click on their portraits or avatars. This option is available once they have had their first talk while in the party. Their reactions will depend on your behaviour during both scripted and player-initiated talks.

&#10173; If you want to write your own NPC talking about or with Sebastian or Andrei, or commenting about their quest, you don't have to ask our permission. However, if you'd like to get in contact and get some ideas going, we're more than willing to put the work in.

&nbsp;

<ins>Notes on flirting with Andrei:</ins>

You can choose the option "*flirt with*" irrespective of race or gender. If the number of flirts he has accepted gets high enough, he will start a dialogue with you commenting on your behaviour and you can decide whether to try to take things further or remain friends.

<ins>Notes on flirting with Sebastian:</ins>

You can choose "*flirt with*" irrespective of race or gender. If the number of flirts he has accepted gets high enough, your Bioware loved one will object. Under certain circumstances, you can choose to try to take your relationship with Sebastian further.

With both, you can choose the option "*I'd like us to just be friends*" at any time, and "*flirt with*" will disappear from the response menu.

<div align="right"><a href="#top">Back to top</a></div>


<hr>


## <a name="components" id="components"></a>Components

The installer includes the following components. All optional components require the main component to be installed.

## 

**Luxley Family Mod for BGII:SoA** (Main component)  

&#10173; This is the main component.

## 

**Portraits for non-joinable NPCs**

&#10173; This optional component installs custom portraits for various non-joinable NPCs added by this mod.

## 

**Nathaniel Crossmod content**

&#10173; This optional component installs banters with Nathaniel, if this mod is detected.

<div align="right"><a href="#top">Back to top</a></div>


<hr>


## <a name="faq" id="faq"></a>Frequently Asked Questions

<div align="right"><a href="#top">Back to top</a></div>


<hr>


## <a name="credits" id="credits"></a>Credits and Acknowledgements

**Authors:** <a href="http://www.shsforums.net/user/5879-feuille">Feuille</a>, <a href="http://www.shsforums.net/user/4278-miss-sakaki">Miss Sakaki</a>  

## 

#### Special Acknowledgements to:

- <a href="http://www.spellholdstudios.net/">Spellhold Studios</a> team for hosting the mod (<a href="http://www.shsforums.net">Forums</a>).
- Deprecated link: <a href="http://forums.chosenofmystra.net">Chosen of Mystra</a> for hosting when the mod was at the early development stage.
- Artwork: Rabain (areas) and Sir-Kill (Mietta BAM).
- Voice Actors: James Taylor (Andrei) and Ross Cloney (Sebastian).
- Non-joinable NPC actors: Lizy Cooper (Alexandra), Richard Courcy (Durydil), Hannah Powell-Smith (Genevieve), Mary Hamilton (Josefyne), Fay Ikin (Lealia), Fred Groves (Lucas), Tim Morgan (Lyel), Eleanor Hingle (Rosanna), Dan Mitrovic (Samuel), Charlie Meigh (Simeon), and Andrew Kitchener (Xavier).
- Beta testers: Berelinde, Clarion, CrazEeFan, K'aeloree, Kitana, Suspiria, toby_fowl, SteveThaiBinh.
- Zyraen for his assistance with dialogue scripting.
- K'aeloree for major moral support and the roof over our heads.
- CamDawg for letting us &quot;borrow&quot; pieces of code from the Fixpack.
- Our wonderful beta testers, both for helping to find bugs and dialogue inconsistencies, and their feedback and suggestions.
- AL|EN: Wrote process which automatically provides Windows, Linux and Mac versions in the same archive file.
- On the technical angle, we'd like to thank Westley Weimer (creation of WeiDU), the bigg (maintaining and adding to WeiDU), igi (maintaining IESDP), Jason Compton & Jesse Myers (player-initiated dialogue technology), Avenger (DLTCEP), Simding0, Ghreyfain, Blue, Rastor and CamDawg (tutorials), and everyone at the Q&amp;A forums who helped out when we were having difficulties.

## 

#### Programs/tools used in creation

- <a href="https://github.com/WeiDUorg/weidu/releases"><acronym title="Weimer Dialogue Utility">WeiDU</acronym></a> by Wes Weimer, Valerio Bigiani (the bigg) and Wisp.
- <a href="https://github.com/Argent77/NearInfinity/releases">Near Infinity</a>, by Jon Olav Hauglid, FredSRichardson, and Argent77.
- <a href="http://www.shsforums.net/topic/31285-infinity-explorer-v085/">Infinity Explorer</a>, by Dmitry Jemerov / bigmoshi.
- <a href="https://gibberlings3.github.io/iesdp/"><acronym title="Infinity Engine Structures Description Project">IESDP</acronym></a> maintained by igi and lynx.
- <a href="https://www.gibberlings3.net/mods/tools/dltcep/"><acronym title="Dragonlance Total Conversion Editor Pro">DLTCEP</acronym></a>, by Avenger.
- <a href="https://web.archive.org/web/20140818044356fw_/http://www.mud-master.com/shadowkeeper/Home.html">Shadow Keeper</a>, by Aaron O'Neil.
- <a href="https://www.nch.com.au/wavepad/index.html">WavePad</a> Audio Editing software.
- <a href="https://www.adobe.com/">Adobe Photoshop and Adobe Photoshop Elements</a>, by Adobe.
- <a href="https://www.pocketplane.net/modding-tools/">Tispack</a> by Per Olofsson.
- <a href="">Snd2acm</a>, by TeamX.
- <a href="https://xiph.org/vorbis/">OggVorbis</a> audio encoder.
- <a href="https://winlame.sourceforge.io/">winLAME</a> audio encoder.
- <a href="http://notepad-plus-plus.org/">Notepad++</a>, by the Notepad++ team, Don Ho, and the spellcheck plug-in.
- <a href="http://www.shsforums.net/files/file/1048-weidu-highlighter-for-notepad/">WeiDU Notepad++ Highlighters </a>, by Argent77.
- <a href="https://www.filecroco.com/download-context/">ConTEXT Text Editor</a>, by Eden Kirin.
- <a href="https://forums.beamdog.com/discussion/78364/infinity-auto-packager-automatically-generate-and-adds-mod-packages-to-release-when-you-publish-it">Infinity Auto Packager</a>, by AL|EN.

## 

#### Copyrights Information

###### The Luxley Family is not developed, supported, or endorsed by BioWare or Interplay/BlackIsle, Overhaul, Beamdog or the Wizards of the Coast. It was developed by Miss Sakaki and Fay Ikin, based on material from the game Baldur's Gate II and its expansion.
###### All mod content is &copy;Miss Sakaki and Fay Ikin.
###### Baldur's Gate II: Shadows of Amn and Baldur's Gate II: Throne of Bhaal &copy; TSR, Inc. The BioWare Infinity Engine is &copy; BioWare Corp. All other trademarks and copyrights are property of their respective owners.
###### This mod was created to be freely enjoyed by all Baldur's Gate II players, and its content is free of rights. However, it should not be sold, published, compiled or redistributed in any form without the consent of its authors.<br>
<div align="right"><a href="#top">Back to top</a></div>


<hr>


## <a name="versions" id="versions"></a>Version History

##### Version 2.0.0 &nbsp;(June 14, 2021)

- Added *luxleysoa.ini* metadata file (including dynamic install order syntax and global `LABELS`) to support AL|EN's "Project Infinity".
- Renamed *Setup-LuxleySoa.tp2* -> *luxleysoa.tp2* to support AL|EN's "Project Infinity".
- Replaced `AUTHOR` keyword with `SUPPORT`
- Added `REQUIRE_PREDICATE` condition to avoid installing the mod in inaccurate games.
- Externalized tp2 code into *main_component.tpa* library for more comfortable readability and maintenance.
- Commented code as much as possible.
- Added native EE and EET compatibility:
    - Added WeiDU's built-in `HANDLE_CHARSETS` function to convert string entries for EE games.
    - Converted inventory BAMs to EE: This feature attempts to modify original inventory BAMs so that both the large and small icons are utilized by the EE games. The inventory BAM must have two sequences, the first containing the "large" inventory icon frame and the second containing the "small" inventory icon frame to be processed. Inventory icon BAMs in the bam folder that meet these requirements are patched and saved back to the *override* folder.
    - Added `ADD_JOURNAL` entries.
    - Provided NPCs portraits for EE games.
    - Rewrote install procedure to use WeiDU's built-in `HANDLE_AUDIO` function, and converted music files to acm.
    - Provided alternative TIS and PVRZ files for EE games (used Tipun's function to find free PVRZ-files indexes on EE-games).
    - Removed useless audio decoding and tiz unpacking `AT_NOW` and `AT_UNINSTALL` batch processes.
    - `ADD_KIT` process: added missing lower kit strref and WeiDU `fl#add_kit_ee` function for EE games.
- "*Portraits for non-joinable NPCs*" optional component: Does not overwrite joinable NPCs portraits anymore.
- *fhlseb.baf*: Fixed wrong Gavin romance active variable (set to *`B!GavRA`*, was *`B!GavinRomanceActive`*).
- Moved extended scripts into new :file_folder: *scriptsext* to avoid compiling useless baf files.
- *bfhlseb.d*: Fixed the <a href="http://www.shsforums.net/topic/35897-dialogue-bugs/#entry412277">dialogue teasing Aerie not ending bug</a>.
- Sebastian and Andrei soundsets: harmonized string references and removed duplicated ones (due to typos).
- Added a more robust workaround than <a href="https://www.gibberlings3.net/forums/topic/21964-add_kit-and-tobex/?do=findComment&comment=183270">BWP Fixpack cmorgan's ToBEx compatible ADD_KIT fix</a> to fix Sebastian creature file installation issue with classic games if TobEx is not installed and more than 256 kits are installed. I know, pretty rare case, but who knows... :wink:
- Cleaned up old ids entries patch replaced with more recent BG2 Fixpack one.
- Updated *setup.tra* file for compatibility with `GW_UPDATE_ITM_DESCRIPTION_TO_EE` WeiDU function requirements which automatically removes items usability restrictions for EE games.
- Proofread strrefs (Gwendolyne).
- TRAified the mod. Feel free to provide me with translations. I will include them as soon as possible.
- Updated deprecated modding tools links.
- Re-formated, updated, renamed readme file to *luxleysoa-readme-english.html*, then moved it into new :file_folder: "*readme*" folder.
- Removed useless :file_folder: "*backup*" folder.
- Lower cased files.
- Included Linux and Mac OS versions in the same package (thanks AL|EN's Infinity Auto Packager tool!).
- Updated OggDec to v1.9.7 and added sox v14.4.1 for mac.
- Added archive libiconv-1.9.2-1-src.7z with iconv licence info.
- Updated WeiDU installer to v247.
- Uploaded mod to official <a href="https://github.com/SpellholdStudios">Spellhold Studios GitHub mirror account</a>.

## 

##### Version 1.2 &nbsp;(February 19, 2013)

- Fixed several typos.
- Fixed a variety of bugs thanks to the BWP Fixpack & Lollorian.

## 

##### Version 1.1 &nbsp;(February 7, 2008)

- Fixed minor banter bugs.
- Fixed a bug preventing the party leaving the Luxleys' home under certain circumstances.
- Fixed a bug preventing one of the quest portions' functioning properly under certain circumstances.

## 

##### Version 1.0 &nbsp;(January 5, 2008)

- Initial release.
<div align="right"><a href="#top">Back to top</a></div>
